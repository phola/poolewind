"use strict";angular.module("poolewindApp",["firebase","ng-iscroll"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("poolewindApp").controller("MainCtrl",["$scope","angularFire",function(e,t){var i="https://poolewind.firebaseio.com/weather",n=t(i,e,"live",{});e.weather={},e.pauseLiveUpdate=!1,e.$watch("live",function(){e.pauseLiveUpdate||angular.extend(e.weather,e.live)}),i="https://poolewind.firebaseio.com/history",n=t(i,e,"history",{}),e.showHistory=function(t){e.pauseLiveUpdate=!0,angular.extend(e.weather,e.history[t])},e.showLive=function(){e.pauseLiveUpdate=!1,angular.extend(e.weather,e.live)}}]),angular.module("poolewindApp").directive("windBar",function(){return{template:'<div class="windbar-wrap" touch-mouse-start="startHandler()" touch-mouse-end="endHandler()"><div class="windbar k{{Math.round(data.AvgSpeed)}}" style="margin-top:{{barHeight-(data.AvgSpeed*(barHeight/limit))}}px;height:{{data.AvgSpeed*(barHeight/limit)}}px"><div class="detail mini_arrow_box">{{data.AvgSpeed}}</div></div><div class="timestamp k{{Math.round(data.AvgSpeed)}}">{{data.TimeStamp}}</div></div>',scope:{data:"=data",limit:"=limit",startHandler:"&touchMouseStart",endHandler:"&touchMouseEnd"},link:function(e,t){e.Math=window.Math,e.barHeight=t[0].children[0].children[0].clientHeight}}}),angular.module("ng-iscroll",[]).directive("ngIscroll",function(){return{replace:!1,restrict:"A",link:function(e,t,i){function n(){new iScroll(document.getElementById("wrapper"),{nap:!0,momentum:!0,hScrollbar:!1})}var a=5;""!==i.ngIscroll&&(a=i.ngIscroll),e.$watch(i.ngIscroll,function(){setTimeout(n,a)})}}}),angular.module("poolewindApp").directive("touchMouseStart",function(){return function(e,t,i){t.bind("touchstart",function(){e.$apply(i.touchMouseStart)}),t.bind("mouseover",function(){e.$apply(i.touchMouseStart)})}}),angular.module("poolewindApp").directive("touchMouseEnd",function(){return function(e,t,i){t.bind("touchend",function(){e.$apply(i.touchMouseStart)}),t.bind("mouseout",function(){e.$apply(i.touchMouseEnd)})}});