Morris.Line.prototype._drawPointFor=function(t){var e,i,o,n,r,a,s;for(this.seriesPoints[t]=[],r=this.data,a=[],o=0,n=r.length;n>o;o++)i=r[o],e=null,null!=i._y[t]&&(e=this.drawLinePoint(i._x,i._y[t],this.options.pointSize,this.colorFor(i,t,"point"),t)),s=this.options.data[o],e.node.setAttribute("class","p"+parseInt(s.s)),a.push(this.seriesPoints[t].push(e));return a},Morris.Grid.prototype.drawGrid=function(){var t,e,i,o,n,r;if(this.options.grid!==!1||this.options.axes!==!1){for(n=this.grid,r=[],i=0,o=n.length;o>i;i++)t=n[i],e=this.transY(t),this.options.axes&&this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t)).node.setAttribute("class","yax p"+parseInt(t)),this.options.grid?r.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width)).node.setAttribute("class","gline p"+parseInt(t))):r.push(void 0);return r}},angular.module("poolewindApp",["firebase","ng-iscroll","ng-morris"]).config(["$routeProvider",function(t){t.when("/2",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/",{templateUrl:"views/root.html",controller:"RootCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("poolewindApp").controller("MainCtrl",["$scope","angularFire",function(t,e){var i="https://poolewind.firebaseio.com/weather",o=e(i,t,"live",{});t.weather={},t.pauseLiveUpdate=!1,t.$watch("live",function(){t.pauseLiveUpdate||angular.extend(t.weather,t.live)}),i="https://poolewind.firebaseio.com/history",o=e(i,t,"history",{}),t.showHistory=function(e){t.pauseLiveUpdate=!0,angular.extend(t.weather,t.history[e])},t.showLive=function(){t.pauseLiveUpdate=!1,angular.extend(t.weather,t.live)}}]),angular.module("poolewindApp").controller("RootCtrl",["$scope","angularFire","angularFireCollection",function(t,e,i){var o=function(e,i){var o=i.data[e];return t.weather={d:Math.round(parseFloat(o.d)),s:Math.round(parseFloat(o.s)),t:o.t},t.$$phase||t.$apply(),o.s};t.morrisConfig={xkey:"t",ykeys:["s"],labels:["Speed"],hoverCallback:o,lineColors:["#E8E8E8"]};var n="https://wind.firebaseio.com/poole/log",r="https://wind.firebaseio.com/poole/hlog";t.firehose=i(new Firebase(n).limit(60)),t.firehose2=i(new Firebase(r).limit(60)),t.testData=[{d:159,s:1.8,t:1375850399776},{d:159,s:1.8,t:1375850417576},{d:159,s:1.8,t:1375850425587},{d:159,s:1.9,t:1375850435608},{d:159,s:2.1,t:1375850447608},{d:159,s:2.4,t:1375850455607},{d:159,s:2.7,t:1375850468616},{d:159,s:2.7,t:1375850476679},{d:159,s:2.8,t:1375850486629}],t.weather={d:0,s:"?",t:1375850399776},t.$watch("weather",function(){})}]),angular.module("poolewindApp").directive("windBar",function(){return{template:'<div class="windbar-wrap" touch-mouse-start="startHandler()" touch-mouse-end="endHandler()"><div class="windbar k{{Math.round(data.AvgSpeed)}}" style="margin-top:{{barHeight-(data.AvgSpeed*(barHeight/limit))}}px;height:{{data.AvgSpeed*(barHeight/limit)}}px"><div class="detail mini_arrow_box">{{data.AvgSpeed}}</div></div><div class="timestamp k{{Math.round(data.AvgSpeed)}}">{{data.TimeStamp}}</div></div>',scope:{data:"=data",limit:"=limit",startHandler:"&touchMouseStart",endHandler:"&touchMouseEnd"},link:function(t,e){t.Math=window.Math,t.barHeight=e[0].children[0].children[0].clientHeight}}}),angular.module("ng-iscroll",[]).directive("ngIscroll",function(){return{replace:!1,restrict:"A",link:function(t,e,i){function o(){new iScroll(document.getElementById("wrapper"),{nap:!0,momentum:!0,hScrollbar:!1})}var n=5;""!==i.ngIscroll&&(n=i.ngIscroll),t.$watch(i.ngIscroll,function(){setTimeout(o,n)})}}}),angular.module("ng-morris",[]).directive("ngMorris",function(){return{restrict:"A",scope:{config:"=config",model:"=ngModel",graph:"="},link:function(t,e){var i=angular.extend({element:e,data:t.model},t.config);Morris&&(t.graph=Morris.Line(i),setTimeout(function(){t.graph.setData(t.model),t.$watchCollection("model",function(){t.graph.setData(t.model)})},1e3))}}}),angular.module("poolewindApp").directive("touchMouseStart",function(){return function(t,e,i){e.bind("touchstart",function(){t.$apply(i.touchMouseStart)}),e.bind("mouseover",function(){t.$apply(i.touchMouseStart)})}}),angular.module("poolewindApp").directive("touchMouseEnd",function(){return function(t,e,i){e.bind("touchend",function(){t.$apply(i.touchMouseStart)}),e.bind("mouseout",function(){t.$apply(i.touchMouseEnd)})}});